@Library('demo') _

pipeline {
  agent any
  options {
    buildDiscarder(
      logRotator(daysToKeepStr: '5', numToKeepStr: '5')
    )
    disableConcurrentBuilds()
  }

parameters {
        extendedChoice(
            name: 'TagName',
            defaultValue: '',
            description: 'tag name',
            type: 'PT_SINGLE_SELECT',
            groovyScript: '''
                def foo = getdockertags()
                return "foo"
                '''
        )

}

  environment {
      def GENERATED_BUILD_TAG = ''
  }
  stages {
    stage('parameterBuild') {
      steps {
        script {
          def values = getdockertags()
        }
      }
    }
  }//job stages
}//pipeline
